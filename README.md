# heartgame1 游戏文档

## 1. 安装指南

### 1.1 Windows 系统安装

#### 系统要求
- Windows 7 或更高版本
- 32位或64位系统
- Python 3.8 或更高版本
- 至少 512MB 内存
- 至少 100MB 可用磁盘空间
- 支持 OpenGL 2.0 或更高版本的显卡

#### 安装步骤
1. **下载游戏安装包**
   - 从官方渠道获取游戏安装包
   - 选择适合您系统的版本（32位或64位）

2. **运行安装程序**
   - 双击下载的安装程序（如 `heartgame1-Setup-64bit.exe`）
   - 按照安装向导的提示进行操作
   - 选择安装目录（建议使用默认目录）
   - 完成安装过程

3. **验证安装**
   - 安装完成后，桌面上会创建游戏快捷方式
   - 双击快捷方式启动游戏
   - 游戏启动时会显示启动画面，然后进入主菜单

### 1.2 Linux 系统安装（Ubuntu 20.04.6 LTS）

#### 系统要求
- Ubuntu 20.04.6 LTS
- Python 3.8 或更高版本
- 至少 512MB 内存
- 至少 100MB 可用磁盘空间
- 支持 OpenGL 2.0 或更高版本的显卡
- 中文字体支持（文泉驿字体）

#### 安装步骤
1. **安装必要的依赖项**
   ```bash
   sudo apt update
   sudo apt install -y python3-pygame fontconfig fonts-wqy-microhei fonts-wqy-zenhei
   ```

2. **安装游戏包**
   ```bash
   # 从Windows共享目录安装
   sudo dpkg -i /mnt/i/python-32/Games/game2.1/deb_dist/python3-heartgame1_1.0.0-1_all.deb
   
   # 解决依赖问题
   sudo apt install -f
   ```

3. **验证安装**
   ```bash
   # 启动游戏
   heartgame1
   ```

4. **创建桌面快捷方式**
   - 游戏安装后会自动创建应用程序菜单条目
   - 在应用程序菜单中搜索 "heartgame1" 即可找到并启动游戏

## 2. 游戏玩法

### 2.1 核心机制

#### 游戏目标
- 通过躲避 Sans 的攻击并尝试使用仁慈功能来获胜
- 攻击 Sans 会增加暴力指数（LV），LV 达到 20 后无法使用仁慈功能
- 成功使用 8 次仁慈后可以获胜

#### 战斗系统
- **攻击**：按 A 键或 F 键攻击 Sans
- **仁慈**：按 M 键尝试仁慈
- **躲避**：使用方向键移动角色躲避攻击

#### 难度系统
- 游戏会随着时间自动增加难度
- 难度最高可达 5.0x
- 难度增加会导致 Sans 的攻击速度和频率提高

### 2.2 操作方式

| 按键 | 功能 |
|------|------|
| 方向键 | 移动角色 |
| A 键 / F 键 | 攻击 Sans |
| M 键 | 尝试仁慈 |
| 空格键 | 开始游戏/跳过对话 |

### 2.3 界面元素

#### 启动画面
- 显示游戏标题 "传说之下 - Sans战"
- 显示游戏玩法说明
- 显示操作指南
- 按空格键开始游戏

#### 战斗界面
- **左侧信息面板**：显示仁慈次数、难度系数、攻击次数、玩家 LV 等信息
- **中央战斗区域**：显示玩家角色和 Sans，以及各种攻击效果
- **对话框**：显示 Sans 的对话和游戏提示
- **控制台**：显示游戏日志和系统消息

#### 胜利画面
- 显示 "胜利！" 消息
- 按空格键退出游戏

#### 游戏结束画面
- 显示 "游戏结束" 消息
- 按空格键退出游戏

### 2.4 游戏阶段

#### 第一阶段（1-3次攻击）
- Sans 使用基本攻击模式
- 攻击速度和频率较低

#### 第二阶段（4-7次攻击）
- Sans 开始使用更复杂的攻击模式
- 攻击速度和频率增加

#### 第三阶段（8次及以上攻击）
- Sans 使用最复杂的攻击模式
- 攻击速度和频率达到最高

## 3. 注意事项

### 3.1 Windows 平台注意事项

#### 兼容性问题
- **Windows 7 用户**：可能需要安装最新的 DirectX 和 Visual C++ 运行库
- **分辨率问题**：如果游戏显示异常，尝试调整屏幕分辨率或游戏窗口大小
- **权限问题**：建议以管理员身份运行游戏，避免文件访问权限问题

#### 性能优化
- **关闭不必要的程序**：运行游戏时关闭其他占用系统资源的程序
- **降低游戏分辨率**：如果游戏运行卡顿，可以尝试降低屏幕分辨率
- **更新显卡驱动**：确保显卡驱动是最新版本，以获得最佳性能

#### 常见错误及解决方法
- **缺少 DLL 文件**：重新安装游戏或从官方网站下载缺失的 DLL 文件
- **游戏崩溃**：检查系统是否满足最低要求，更新 Python 和 Pygame 版本
- **声音问题**：确保音频设备正常工作，检查音量设置

#### 数据备份
- **游戏进度**：游戏会自动保存进度
- **备份建议**：定期备份游戏安装目录，以防数据丢失

### 3.2 Linux 平台注意事项

#### 兼容性问题
- **字体问题**：确保已安装文泉驿中文字体，否则可能出现文字乱码
- **WSL 环境**：在 WSL 2 中运行时，可能需要额外的配置来支持图形界面
- **权限问题**：确保游戏文件和目录有正确的权限设置

#### 性能优化
- **关闭不必要的服务**：运行游戏时关闭其他占用系统资源的服务
- **调整系统设置**：根据系统性能调整游戏设置
- **使用硬件加速**：确保系统启用了硬件加速

#### 常见错误及解决方法
- **缺少依赖项**：运行 `sudo apt install -f` 来解决依赖问题
- **图形界面问题**：在 WSL 中运行时，确保已安装并配置了 X 服务器
- **音频问题**：确保系统音频服务正常运行

#### 系统安全
- **安装来源**：只从官方渠道或可信来源安装游戏
- **权限设置**：避免以 root 用户身份运行游戏
- **定期更新**：保持系统和游戏的更新，以获得最新的安全补丁

### 3.3 通用注意事项

#### 游戏数据
- **保存位置**：游戏数据保存在安装目录中
- **备份建议**：定期备份游戏目录，以防数据丢失

#### 系统要求
- **最低配置**：确保系统满足最低要求，否则可能导致游戏运行异常
- **推荐配置**：为获得最佳游戏体验，建议使用推荐配置

#### 技术支持
- **问题反馈**：如有问题，请联系游戏开发者
- **更新信息**：关注游戏的更新信息，以获得最新功能和 bug 修复

## 4. 附录

### 4.1 游戏文件结构

```
heartgame1/
├── assets/           # 游戏资源文件
│   ├── fonts/        # 字体文件
│   └── sprites/      # 精灵图片
├── src/              # 源代码
│   ├── attacks/      # 攻击模式
│   ├── entities/     # 游戏实体
│   ├── systems/      # 游戏系统
│   └── ui/           # 用户界面
├── deb_dist/         # Debian 包构建结果
├── build/            # 构建输出
├── heartgame1.exe    # Windows 可执行文件
├── setup.py          # Python 安装脚本
└── heartgame1.desktop # Linux 桌面快捷方式
```

### 4.2 游戏版本信息

- **游戏名称**：heartgame1
- **版本**：0.0.2
- **开发者**：wang.station
- **许可证**：Apache License 2.0
- **发布日期**：2026-02-06

### 4.3 联系方式

- **官方网站**：https://introduction.wangstation.ddns-ip.net
- **电子邮件**：contact@wangstation.ddns-ip.net

---

*本文档由 heartgame1 开发团队编写，如有任何问题或建议，请联系我们。*
